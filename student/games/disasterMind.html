<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Disaster Mind (iThrive Sim) üß†</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(to bottom, #1a2a6c, #2c3e50);
            color: #ecf0f1;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            display: flex;
            max-width: 1400px;
            margin: 0 auto;
            gap: 25px;
            flex-wrap: wrap;
        }
        
        .game-info {
            flex: 1;
            min-width: 340px;
            background: rgba(44, 62, 80, 0.9);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5);
            display: flex;
            flex-direction: column;
        }
        
        .game-area {
            flex: 2;
            min-width: 650px;
            background: rgba(44, 62, 80, 0.9);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5);
            display: flex;
            flex-direction: column;
        }
        
        header {
            text-align: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid #3498db;
        }
        
        h1 {
            font-size: 2.8rem;
            color: #3498db;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }
        
        h2 {
            font-size: 1.8rem;
            color: #f39c12;
            margin-bottom: 15px;
        }
        
        h3 {
            font-size: 1.4rem;
            color: #2ecc71;
            margin: 15px 0 10px;
        }
        
        .rules-list, .points-list {
            margin-left: 20px;
            margin-bottom: 20px;
        }
        
        li {
            margin-bottom: 10px;
            line-height: 1.5;
        }
        
        .stats {
            background: #34495e;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        
        .stat-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 12px;
            padding-bottom: 12px;
            border-bottom: 1px solid #2c3e50;
        }
        
        .status-bar {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            background: #34495e;
            padding: 15px;
            border-radius: 8px;
        }
        
        .status-item {
            text-align: center;
            flex: 1;
            padding: 12px;
            margin: 0 5px;
            background: #2c3e50;
            border-radius: 5px;
        }
        
        .status-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: #f39c12;
        }
        
        .scenario {
            background: #34495e;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            flex-grow: 1;
        }
        
        .scenario-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            background: #2c3e50;
            padding: 15px;
            border-radius: 10px;
        }
        
        .scenario-icon {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            background: #3498db;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            margin-right: 20px;
        }
        
        .scenario-details {
            flex-grow: 1;
        }
        
        .scenario-text {
            font-size: 1.2rem;
            line-height: 1.6;
            margin-bottom: 20px;
            background: #2c3e50;
            padding: 15px;
            border-radius: 10px;
        }
        
        .objectives {
            background: #2c3e50;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        
        .objective {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .objective-checkbox {
            width: 20px;
            height: 20px;
            border: 2px solid #3498db;
            border-radius: 4px;
            margin-right: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .objective.completed .objective-checkbox {
            background: #2ecc71;
            border-color: #2ecc71;
        }
        
        .objective.completed .objective-checkbox::after {
            content: "‚úì";
            color: white;
        }
        
        .actions {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }
        
        button {
            padding: 15px;
            border: none;
            border-radius: 8px;
            background: #3498db;
            color: white;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 8px rgba(0, 0, 0, 0.4);
        }
        
        button:active {
            transform: translateY(1px);
        }
        
        .danger {
            background: #e74c3c;
        }
        
        .success {
            background: #2ecc71;
        }
        
        .warning {
            background: #f39c12;
        }
        
        .community {
            background: #9b59b6;
        }
        
        .log {
            background: #2c3e50;
            height: 180px;
            border-radius: 10px;
            padding: 15px;
            overflow-y: auto;
            margin-bottom: 20px;
            font-size: 0.95rem;
        }
        
        .log-entry {
            margin-bottom: 10px;
            padding-bottom: 10px;
            border-bottom: 1px solid #34495e;
            line-height: 1.5;
        }
        
        .success-text {
            color: #2ecc71;
        }
        
        .danger-text {
            color: #e74c3c;
        }
        
        .warning-text {
            color: #f39c12;
        }
        
        .info-text {
            color: #3498db;
        }
        
        .critical-text {
            color: #9b59b6;
        }
        
        .restart-btn {
            width: 100%;
            padding: 15px;
            background: #2ecc71;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 10px;
        }
        
        .restart-btn:hover {
            background: #27ae60;
            transform: translateY(-3px);
            box-shadow: 0 6px 8px rgba(0, 0, 0, 0.4);
        }
        
        .progress-container {
            height: 20px;
            background: #2c3e50;
            border-radius: 10px;
            margin-bottom: 20px;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(to right, #3498db, #2ecc71);
            border-radius: 10px;
            width: 0%;
            transition: width 0.5s ease;
        }
        
        .fema-badge {
            display: flex;
            align-items: center;
            justify-content: center;
            background: #e74c3c;
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-weight: bold;
            margin-top: 15px;
        }
        
        @media (max-width: 1100px) {
            .container {
                flex-direction: column;
            }
            
            .game-info, .game-area {
                min-width: 100%;
            }
            
            h1 {
                font-size: 2.2rem;
            }
            
            .actions {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="game-info">
            <header>
                <h1>Disaster Mind üß†</h1>
                <p>FEMA-supported disaster management simulation</p>
                <div class="fema-badge">FEMA Supported</div>
            </header>
            
            <h2>Game Rules</h2>
            <ul class="rules-list">
                <li>Manage resources and make critical decisions during disasters</li>
                <li>Balance immediate response with long-term recovery</li>
                <li>Consider ethical dilemmas and community impact</li>
                <li>Complete objectives to advance through scenarios</li>
                <li>Each decision affects your effectiveness score</li>
                <li>Scenarios change each time you play for replayability</li>
            </ul>
            
            <h2>Scoring System</h2>
            <ul class="points-list">
                <li>+100 points for completing primary objectives</li>
                <li>+50 points for efficient resource management</li>
                <li>+75 points for minimizing casualties</li>
                <li>+60 points for maintaining public trust</li>
                <li>+40 points for completing secondary objectives</li>
                <li>Bonus points for quick response times</li>
            </ul>
            
            <div class="stats">
                <h2>Your Statistics</h2>
                <div class="stat-item">
                    <span>Highest Score:</span>
                    <span id="high-score">0</span>
                </div>
                <div class="stat-item">
                    <span>Scenarios Completed:</span>
                    <span id="scenarios-completed">0</span>
                </div>
                <div class="stat-item">
                    <span>Response Effectiveness:</span>
                    <span id="response-effectiveness">0%</span>
                </div>
                <div class="stat-item">
                    <span>Critical Decisions Made:</span>
                    <span id="decisions-made">0</span>
                </div>
            </div>
            
            <button class="restart-btn" onclick="initGame()">üîÑ New Scenario</button>
        </div>
        
        <div class="game-area">
            <div class="status-bar">
                <div class="status-item">
                    <div>Resources</div>
                    <div class="status-value" id="resources">$50,000</div>
                </div>
                <div class="status-item">
                    <div>Public Trust</div>
                    <div class="status-value" id="trust">75%</div>
                </div>
                <div class="status-item">
                    <div>Time</div>
                    <div class="status-value" id="time">10:00</div>
                </div>
                <div class="status-item">
                    <div>Score</div>
                    <div class="status-value" id="score">0</div>
                </div>
            </div>
            
            <div class="progress-container">
                <div class="progress-bar" id="progress-bar"></div>
            </div>
            
            <div class="scenario">
                <div class="scenario-header">
                    <div class="scenario-icon" id="scenario-icon">üåÄ</div>
                    <div class="scenario-details">
                        <h3 id="scenario-name">Hurricane Response</h3>
                        <p id="scenario-difficulty">Difficulty: Moderate</p>
                    </div>
                </div>
                
                <div class="scenario-text" id="scenario-text">
                    A Category 3 hurricane is making landfall in a coastal community of 25,000 people. 
                    You are the emergency manager responsible for coordinating response efforts. 
                    Evacuation orders were issued 24 hours ago, but approximately 30% of residents remain in the danger zone.
                </div>
                
                <div class="objectives">
                    <h3>Primary Objectives</h3>
                    <div class="objective" id="obj1">
                        <div class="objective-checkbox"></div>
                        <div>Ensure emergency shelters are operational</div>
                    </div>
                    <div class="objective" id="obj2">
                        <div class="objective-checkbox"></div>
                        <div>Coordinate search and rescue operations</div>
                    </div>
                    <div class="objective" id="obj3">
                        <div class="objective-checkbox"></div>
                        <div>Restore critical infrastructure</div>
                    </div>
                    
                    <h3>Secondary Objectives</h3>
                    <div class="objective" id="obj4">
                        <div class="objective-checkbox"></div>
                        <div>Establish communication with isolated communities</div>
                    </div>
                    <div class="objective" id="obj5">
                        <div class="objective-checkbox"></div>
                        <div>Coordinate with neighboring jurisdictions</div>
                    </div>
                </div>
                
                <div class="actions">
                    <button class="danger" onclick="makeDecision('evacuate')">üöÅ Emergency Evacuation</button>
                    <button class="warning" onclick="makeDecision('resources')">üì¶ Deploy Resources</button>
                    <button onclick="makeDecision('coordinate')">üì° Coordinate Agencies</button>
                    <button class="success" onclick="makeDecision('assess')">üîç Damage Assessment</button>
                </div>
            </div>
            
            <div class="log" id="log">
                <div class="log-entry info-text">Welcome to Disaster Mind. You are now the Emergency Manager.</div>
                <div class="log-entry warning-text">Hurricane making landfall. Evacuation orders are in effect.</div>
                <div class="log-entry">30% of residents remain in danger zones. Prepare for response operations.</div>
            </div>
        </div>
    </div>

    <script>
        // Game state
        const gameState = {
            resources: 50000,
            trust: 75,
            time: 600, // 10 minutes in seconds
            score: 0,
            progress: 0,
            gameOver: false,
            timer: null,
            scenario: null,
            objectives: [],
            highScore: parseInt(localStorage.getItem('highScore')) || 0,
            scenariosCompleted: parseInt(localStorage.getItem('scenariosCompleted')) || 0,
            responseEffectiveness: parseInt(localStorage.getItem('responseEffectiveness')) || 0,
            decisionsMade: parseInt(localStorage.getItem('decisionsMade')) || 0
        };
        
        // Disaster scenarios
        const scenarios = [
            {
                name: "Hurricane Response",
                icon: "üåÄ",
                difficulty: "Moderate",
                description: "A Category 3 hurricane is making landfall in a coastal community of 25,000 people. You are the emergency manager responsible for coordinating response efforts. Evacuation orders were issued 24 hours ago, but approximately 30% of residents remain in the danger zone.",
                resources: 50000,
                trust: 75,
                objectives: [
                    { id: "obj1", text: "Ensure emergency shelters are operational", completed: false, primary: true },
                    { id: "obj2", text: "Coordinate search and rescue operations", completed: false, primary: true },
                    { id: "obj3", text: "Restore critical infrastructure", completed: false, primary: true },
                    { id: "obj4", text: "Establish communication with isolated communities", completed: false, primary: false },
                    { id: "obj5", text: "Coordinate with neighboring jurisdictions", completed: false, primary: false }
                ]
            },
            {
                name: "Wildfire Crisis",
                icon: "üî•",
                difficulty: "High",
                description: "A fast-moving wildfire is threatening a community of 15,000 people. High winds are causing rapid spread, and multiple neighborhoods are under evacuation orders. You must manage limited resources while ensuring public safety.",
                resources: 45000,
                trust: 70,
                objectives: [
                    { id: "obj1", text: "Establish evacuation routes and centers", completed: false, primary: true },
                    { id: "obj2", text: "Deploy fire suppression resources", completed: false, primary: true },
                    { id: "obj3", text: "Coordinate air support operations", completed: false, primary: true },
                    { id: "obj4", text: "Protect critical infrastructure", completed: false, primary: false },
                    { id: "obj5", text: "Manage public information and warnings", completed: false, primary: false }
                ]
            },
            {
                name: "Earthquake Response",
                icon: "üèöÔ∏è",
                difficulty: "Very High",
                description: "A 7.2 magnitude earthquake has struck a metropolitan area of 500,000 people. Widespread damage to infrastructure is reported. Multiple casualties are expected. You must coordinate emergency response across multiple agencies.",
                resources: 75000,
                trust: 65,
                objectives: [
                    { id: "obj1", text: "Coordinate urban search and rescue teams", completed: false, primary: true },
                    { id: "obj2", text: "Establish emergency medical services", completed: false, primary: true },
                    { id: "obj3", text: "Assess structural safety of buildings", completed: false, primary: true },
                    { id: "obj4", text: "Restore water and power systems", completed: false, primary: false },
                    { id: "obj5", text: "Manage donor resources and volunteers", completed: false, primary: false }
                ]
            },
            {
                name: "Flood Emergency",
                icon: "üíß",
                difficulty: "Moderate",
                description: "Record rainfall has caused severe flooding in a river basin community. Multiple levees are at risk of failure. Thousands of residents are isolated by floodwaters. You must manage response and recovery operations.",
                resources: 60000,
                trust: 80,
                objectives: [
                    { id: "obj1", text: "Coordinate water rescue operations", completed: false, primary: true },
                    { id: "obj2", text: "Monitor levee integrity and reinforce if needed", completed: false, primary: true },
                    { id: "obj3", text: "Establish emergency supply distribution", completed: false, primary: true },
                    { id: "obj4", text: "Coordinate with Army Corps of Engineers", completed: false, primary: false },
                    { id: "obj5", text: "Plan for long-term recovery operations", completed: false, primary: false }
                ]
            },
            {
                name: "Pandemic Response",
                icon: "ü¶†",
                difficulty: "Extreme",
                description: "A novel respiratory virus is spreading rapidly through the population. Healthcare systems are becoming overwhelmed. You must balance public health measures with economic and social considerations.",
                resources: 100000,
                trust: 60,
                objectives: [
                    { id: "obj1", text: "Establish testing and contact tracing", completed: false, primary: true },
                    { id: "obj2", text: "Secure healthcare system capacity", completed: false, primary: true },
                    { id: "obj3", text: "Coordinate vaccine distribution", completed: false, primary: true },
                    { id: "obj4", text: "Manage public communication and trust", completed: false, primary: false },
                    { id: "obj5", text: "Balance economic impacts with public health", completed: false, primary: false }
                ]
            }
        ];
        
        // Initialize the game
        function initGame() {
            // Clear previous timer
            clearInterval(gameState.timer);
            
            // Select random scenario
            gameState.scenario = scenarios[Math.floor(Math.random() * scenarios.length)];
            
            // Reset game state
            gameState.resources = gameState.scenario.resources;
            gameState.trust = gameState.scenario.trust;
            gameState.time = 600;
            gameState.score = 0;
            gameState.progress = 0;
            gameState.gameOver = false;
            gameState.objectives = JSON.parse(JSON.stringify(gameState.scenario.objectives));
            
            // Update scenario display
            document.getElementById('scenario-icon').textContent = gameState.scenario.icon;
            document.getElementById('scenario-name').textContent = gameState.scenario.name;
            document.getElementById('scenario-difficulty').textContent = `Difficulty: ${gameState.scenario.difficulty}`;
            document.getElementById('scenario-text').textContent = gameState.scenario.description;
            
            // Update objectives
            gameState.objectives.forEach(obj => {
                const objectiveElement = document.getElementById(obj.id);
                if (objectiveElement) {
                    objectiveElement.className = 'objective';
                    objectiveElement.querySelector('.objective-checkbox').className = 'objective-checkbox';
                    objectiveElement.lastChild.textContent = obj.text;
                }
            });
            
            // Clear log and add initial message
            const log = document.getElementById('log');
            log.innerHTML = '';
            addLog(`Scenario: ${gameState.scenario.name}`, 'info');
            addLog(`Difficulty: ${gameState.scenario.difficulty}`, 'warning');
            addLog(gameState.scenario.description, 'info');
            addLog("Make critical decisions to manage the emergency response.", 'critical');
            
            // Update display
            updateDisplay();
            
            // Update statistics
            updateStatistics();
            
            // Start timer
            startTimer();
        }
        
        // Update the game display
        function updateDisplay() {
            document.getElementById('resources').textContent = `$${gameState.resources.toLocaleString()}`;
            document.getElementById('trust').textContent = `${gameState.trust}%`;
            
            const minutes = Math.floor(gameState.time / 60);
            const seconds = gameState.time % 60;
            document.getElementById('time').textContent = `${minutes}:${seconds.toString().padStart(2, '0')}`;
            
            document.getElementById('score').textContent = gameState.score;
            document.getElementById('progress-bar').style.width = `${gameState.progress}%`;
        }
        
        // Update statistics panel
        function updateStatistics() {
            document.getElementById('high-score').textContent = gameState.highScore;
            document.getElementById('scenarios-completed').textContent = gameState.scenariosCompleted;
            document.getElementById('response-effectiveness').textContent = `${gameState.responseEffectiveness}%`;
            document.getElementById('decisions-made').textContent = gameState.decisionsMade;
        }
        
        // Start the countdown timer
        function startTimer() {
            gameState.timer = setInterval(() => {
                if (gameState.gameOver) {
                    clearInterval(gameState.timer);
                    return;
                }
                
                gameState.time--;
                
                if (gameState.time <= 0) {
                    endGame();
                    return;
                }
                
                // Random event chance
                if (Math.random() > 0.95) {
                    const events = [
                        {msg: 'Secondary emergency reported! Additional resources needed.', resources: -5000, trust: -5, type: 'danger'},
                        {msg: 'Federal assistance approved! Additional funding available.', resources: +10000, type: 'success'},
                        {msg: 'Media criticism affecting public trust.', trust: -8, type: 'warning'},
                        {msg: 'Community volunteers organizing support efforts.', trust: +5, type: 'info'},
                        {msg: 'Infrastructure failure causing response delays.', resources: -3000, trust: -3, type: 'critical'}
                    ];
                    
                    const event = events[Math.floor(Math.random() * events.length)];
                    addLog(event.msg, event.type);
                    
                    if (event.resources) gameState.resources += event.resources;
                    if (event.trust) gameState.trust += event.trust;
                }
                
                updateDisplay();
            }, 1000);
        }
        
        // Add a message to the log
        function addLog(message, type = 'info') {
            const log = document.getElementById('log');
            const entry = document.createElement('div');
            entry.className = `log-entry ${type}-text`;
            entry.textContent = message;
            log.appendChild(entry);
            log.scrollTop = log.scrollHeight;
        }
        
        // Process player decisions
        function makeDecision(decision) {
            if (gameState.gameOver) return;
            
            let resourceChange = 0;
            let trustChange = 0;
            let progressChange = 0;
            let scoreChange = 0;
            let message = '';
            
            switch(decision) {
                case 'evacuate':
                    if (gameState.resources >= 10000) {
                        resourceChange = -10000;
                        trustChange = 5;
                        progressChange = 15;
                        scoreChange = 75;
                        message = 'Emergency evacuation operations launched. Saving lives is the priority.';
                        completeObjective(0); // First primary objective
                    } else {
                        trustChange = -10;
                        message = 'Insufficient resources for evacuation operations. Seek additional funding.';
                    }
                    break;
                    
                case 'resources':
                    if (gameState.resources >= 8000) {
                        resourceChange = -8000;
                        trustChange = 3;
                        progressChange = 12;
                        scoreChange = 60;
                        message = 'Resources deployed to affected areas. Response efforts accelerating.';
                        completeObjective(1); // Second primary objective
                    } else {
                        trustChange = -5;
                        message = 'Resource deployment delayed due to budget constraints.';
                    }
                    break;
                    
                case 'coordinate':
                    if (gameState.resources >= 5000) {
                        resourceChange = -5000;
                        trustChange = 7;
                        progressChange = 10;
                        scoreChange = 50;
                        message = 'Agency coordination improved. Multi-organizational response enhanced.';
                        completeObjective(4); // Coordination objective
                    } else {
                        trustChange = -3;
                        message = 'Inter-agency coordination limited by resource constraints.';
                    }
                    break;
                    
                case 'assess':
                    if (gameState.resources >= 3000) {
                        resourceChange = -3000;
                        trustChange = 2;
                        progressChange = 8;
                        scoreChange = 40;
                        message = 'Damage assessment underway. Better situational awareness achieved.';
                        completeObjective(2); // Third primary objective
                    } else {
                        trustChange = -2;
                        message = 'Damage assessment limited by available resources.';
                    }
                    break;
            }
            
            // Apply changes
            gameState.resources = Math.max(0, gameState.resources + resourceChange);
            gameState.trust = Math.min(100, Math.max(0, gameState.trust + trustChange));
            gameState.progress = Math.min(100, gameState.progress + progressChange);
            gameState.score += scoreChange;
            gameState.decisionsMade++;
            
            // Add log message
            addLog(message, trustChange > 0 ? 'success' : 'warning');
            
            // Check for game completion
            if (gameState.progress >= 100) {
                addLog('Primary mission objectives completed!', 'success');
                endGame();
            }
            
            updateDisplay();
        }
        
        // Complete an objective
        function completeObjective(index) {
            if (index < gameState.objectives.length && !gameState.objectives[index].completed) {
                gameState.objectives[index].completed = true;
                const objectiveElement = document.getElementById(gameState.objectives[index].id);
                if (objectiveElement) {
                    objectiveElement.classList.add('completed');
                }
                
                // Add score for completing objective
                const points = gameState.objectives[index].primary ? 100 : 40;
                gameState.score += points;
                
                addLog(`Objective completed: ${gameState.objectives[index].text}`, 'success');
            }
        }
        
        // End the game
        function endGame() {
            gameState.gameOver = true;
            clearInterval(gameState.timer);
            
            // Calculate final score
            const trustBonus = gameState.trust * 2;
            const resourceBonus = gameState.resources / 100;
            const timeBonus = gameState.time;
            
            gameState.score += trustBonus + resourceBonus + timeBonus;
            
            // Calculate effectiveness
            const completedObjectives = gameState.objectives.filter(obj => obj.completed && obj.primary).length;
            gameState.responseEffectiveness = Math.round((completedObjectives / 3) * 100);
            
            // Update statistics
            gameState.scenariosCompleted++;
            
            if (gameState.score > gameState.highScore) {
                gameState.highScore = gameState.score;
            }
            
            // Save to localStorage
            localStorage.setItem('highScore', gameState.highScore);
            localStorage.setItem('scenariosCompleted', gameState.scenariosCompleted);
            localStorage.setItem('responseEffectiveness', gameState.responseEffectiveness);
            localStorage.setItem('decisionsMade', gameState.decisionsMade);
            
            // Display results
            addLog(`MISSION ${gameState.progress >= 100 ? 'ACCOMPLISHED' : 'TERMINATED'}! Final score: ${gameState.score}`, 'info');
            addLog(`Public trust: ${gameState.trust}%`, gameState.trust > 60 ? 'success' : 'warning');
            addLog(`Resources remaining: $${gameState.resources.toLocaleString()}`, 'info');
            addLog(`Response effectiveness: ${gameState.responseEffectiveness}%`, 'critical');
            
            updateStatistics();
        }
        
        // Initialize the game when page loads
        window.onload = initGame;
    </script>
</body>
</html>